This directory contains examples for **reading from and writing to CIF files**.

- `cif/`  
  - Symlink to the project-root `cif/` directory. Used so examples can refer to files such as `cif/MEP.cif`.

- `4_from_cif.py`  
  - Load an ice structure from a CIF file and use it as a GenIce3 `UnitCell`.

- `5_to_cif.py`  
  - Export a structure generated by GenIce3 in CIF format.

---

## Sample code

### 4_from_cif

[`4_from_cif.py`](https://github.com/genice-dev/GenIce3/blob/main/examples/api/cif_io/4_from_cif.py) | [`4_from_cif.sh`](https://github.com/genice-dev/GenIce3/blob/main/examples/api/cif_io/4_from_cif.sh) | [`4_from_cif.yaml`](https://github.com/genice-dev/GenIce3/blob/main/examples/api/cif_io/4_from_cif.yaml)

=== "4_from_cif.py"

    ```python
    from genice3.genice import GenIce3
    from genice3.plugin import UnitCell, Exporter
    from logging import basicConfig, INFO
    
    # corresponding command:
    # genice3 'CIF[file=cif/MEP.cif, osite=T]' --exporter gromacs
    basicConfig(level=INFO)
    genice = GenIce3()
    genice.unitcell = UnitCell("CIF", file="cif/MEP.cif", osite="T")
    Exporter("gromacs").dump(genice)
    ```

=== "4_from_cif.sh"

    ```bash
    #!/bin/bash
    # Generated from 4_from_cif.yaml
    
    python3 -m genice3.cli.genice CIF \
      --file cif/MEP.cif \
      --osite T
    ```

=== "4_from_cif.yaml"

    ```yaml
    # Run with GenIce3: genice3 --config 4_from_cif.yaml
    # Generated from 4_from_cif.sh
    
    unitcell: CIF
    file: cif/MEP.cif
    osite: T
    ```


### 5_to_cif

[`5_to_cif.py`](https://github.com/genice-dev/GenIce3/blob/main/examples/api/cif_io/5_to_cif.py) | [`5_to_cif.sh`](https://github.com/genice-dev/GenIce3/blob/main/examples/api/cif_io/5_to_cif.sh) | [`5_to_cif.yaml`](https://github.com/genice-dev/GenIce3/blob/main/examples/api/cif_io/5_to_cif.yaml)

=== "5_to_cif.py"

    ```python
    from genice3.genice import GenIce3
    from genice3.plugin import UnitCell, Exporter
    from logging import basicConfig, INFO
    
    # corresponding command:
    # genice3 A15 -e cif
    basicConfig(level=INFO)
    genice = GenIce3()
    genice.unitcell = UnitCell("A15")
    Exporter("cif").dump(genice)
    ```

=== "5_to_cif.sh"

    ```bash
    #!/bin/bash
    # Generated from 5_to_cif.yaml
    
    python3 -m genice3.cli.genice A15 \
      --exporter cif
    ```

=== "5_to_cif.yaml"

    ```yaml
    # Run with GenIce3: genice3 --config 5_to_cif.yaml
    # Generated from 5_to_cif.sh
    
    unitcell: A15
    exporter: cif
    ```
